{
  "hash": "70f378bd3774b10fd3321b1acec8f1e0",
  "result": {
    "engine": "knitr",
    "markdown": "# La notion de corpus\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#les librairies du chapître\nlibrary(tidyverse)\nlibrary(readr)\nlibrary(quanteda)\nlibrary(flextable)\n\ntheme_set(theme_minimal()) \n\nset_flextable_defaults(\n  font.size = 10, theme_fun = theme_vanilla,\n  padding = 6,\n  background.color = \"#EFEFEF\")\n```\n:::\n\n\n\n\n\n\n**Objectifs du chapitre :**\n\n-   <div>\n\n    *Introduire la notion de corpus, la développer et conclure sur des premiers éléments de code qui vont lui donner une forme matérielle.*\n\n    </div>\n\nLa notion de corpus est très intuitive, c'est un ensemble de document qui peuvent prendre des formes matérielles très différentes : des cahiers de doléances comme au moment des gilets jaunes, un ensemble de pdf, un tableur où une des colonnes contient une variable de type chaîne de caractères. De manière plus classique c'est un recueil réunissant ou se proposant de réunir, en vue de leur étude scientifique, la totalité des documents disponibles d'un genre donné.\n\nDans la perspective d'une analyse automatisée ce chapitre, on ne tiendra pas compte des aspects matériel du corpus, qui peuvent être important par ailleurs comme le montre [Marie- Anne Chabin](https://www.marieannechabin.fr/2023/07/cahiers-de-doleances-2018-2019-ce-que-la-technologie-et-la-technocratie-nont-pas-vu/).\n\nDans le cadre d'une analyse automatisée, le document se réduit à une chaîne de caractères. Sa collection peut se présenter dans une série de fichiers distincts ou être déjà structurée sous la forme d'un tableur, ou mieux d'une base de données relationnelles.\n\n## Les éléments du corpus\n\nCe qui fait un corpus est composé de trois éléments : une collection, des textes qui se manifestent comme une suite de caractère répondant à des règles plus ou moins connue, et à des informations associées, les méta-donnée. Examinons chacun de ces éléments.\n\n### Le document\n\nL'ensemble des documents constitue la collection , elle peut être systématique et exhaustives, par exemple s'il s'agit de toute la correspondance d'un écrivain. Elle peut aussi se constituer comme un échantillon et répondre au règles de la théorie de l'échantillonnage.\n\n#### Le document comme chaine de caractère\n\nUne unité de texte se définit comme une chaîne de caractères qui constitue un document. Celui ci peut être de forme quelconque : un livre, un article, une note, une transcription, il reste une séquence plus ou moins longue de caractères qui répondent à des règles de composition dont on ignore la nature a priori. Dans le cas de texte courts, cette chaîne de caractères est simple.\n\nDans celui d'un article, elle peut être plus complexe et comporter des combinaison de caractères qui signalent un effet de composition. par exemple la chaîne `\\n` définit un saut de page, et si le document est codé en xml, certaines séquences identifient des balises. Par exemple la chaîne `<h1>` indique que les caractères qui vont suivre définissent le contenu d'un titre de niveau 1 et que cette définition s'achève avec la balise `<|>`. L'exemple adresse une convention qui est celle des langage xml qui séparent le contenu du contenant, c'est à dire des actions qui seront opérées sur le contenu.\n\nL'analyse de ces structure est un préalable indispensable pour les lire correctement. Et il sera souvent néçéssaire de nettoyer le texte avant son exploitation.\n\n#### la structuration\n\nDifférents types de corpus Le degré de structuration : séquentielle, plan spatiale ( ex = le curriculum viate, la fiche de brevet,...)\n\n#### Metadonnées\n\nUn document est souvent associé à des méta-données qui permettent de le situer ce qui permet des comparaisons dans le temps l'espace ou les locuteurs. Un bon corpus est celui qui associe aux documents, l'ensemble le plus pertinent et le plus large de méta-données.\n\n-   Un ou des auteurs. A chaque document peut être attaché un ou plusieurs auteurs. Et c'est auteurs eux-même peuvent être caractérisés.\n\n-   Chaque document peut être associé à une date de production ou de publication.\n\n-   Chaque document peut être associé à une origine géographique, générique comme le pays d'origine ou géolocalisé dans le cas d'un message émis dans un réseau social.\n\n-   Il peut être documenté par des éléments de contexte : les unités précédentes, et subséquentes - c'est le cas des chats et des forums qui peuvent être identifié par les fils dans lesquels ils s'inscrivent et la position qu'ils y occupent.\n\n-   une ou des autorités : par exemple le média où il a été publié ce qui pose la question de la source et celle de sa crédibilité\n\nLa liste n'est pas limitative et peut comprendre des éléments de diplomatique, cette discipline, ancienne, qui vise à établir une compréhension critique des documents écrits, pour en particulier établir leur authenticité .[voir](http://theleme.enc.sorbonne.fr/cours/diplomatique)\n\n### Une collection\n\nIl y a une très forte diversité de corpus. Celle-ci est cependant peut se décrire au travers d'un certains nombre de critères.\n\n#### L'échelle et l'étendue\n\nIl peut y avoir de très petits corpus, par exemples la transcription de quelques dizaines d'entretiens. d'autres qui rassemblent des millions de textes courts. L'échelles des corpus va de quelques unités à plusieurs millions. Les milliards sont rares. Concrètement il y a des corpus de quelques dizaines ou centaines d'éléments, d'autres qui se comptent en dizaines de milliers, d'autres en centaines et millions d'unités. Méthodes et capacité de calculs ne sont pas forcément les mêmes.\n\nCourts à l'image des tweets, ou de résumés d'articles, ou longs s'il s'agit d'articles de recherche complet, ou très long, le cas des livres. les textes court sont ce que les méthodes avancée traitent bien . Les textes longs pose la question de co-références. On peut cependant les décomposer, le niveau de phrase, celui du paragraphe, le chapitre, le livre.\n\nA ce stade, 4 types de corpus\n\n| textes | Peu         | Nombreux    |\n|--------|-------------|-------------|\n| court  | Cas         | Social data |\n| Long   | Comparative | Deep data   |\n\n#### les auteurs\n\nLes corpus peuvent aussi se distinguer par la diversité de leurs auteurs\n\n-   la monographie quand le corpus compile tous les documents d'une même source\n\n-   la polygraphie quand les auteurs sont presque aussi nombreux que le nombre de textes. Quand les auteurs sont multiples, il peuvent constituer le texte de deux manières\n\n-   par addition : c'est l'exemple du message publicitaire qui superpose une scène, des incrustations, de la musique.\n\n-   par interaction : c'est le mode tu texte de théâtre ou la structure du texte distribuent entre les personnage des fragments de paroles qui interagissent.\n\nencore une autre typologie\n\n| Auteurs  | Addition    | Interaction |\n|----------|-------------|-------------|\n| Unique   | monographie |             |\n| Double   | contrepoint | Dialogue    |\n| Multiple | Polygraphie | Théatre     |\n\n#### les niveaux de langues\n\nIls varient aussi selon le niveaux de langues\n\n-   texte savant, texte standard, texte vernaculaire\n-   \n\n### des corpus bien préparés\n\nDans ce chapitre nous avons appris comment faire la cueillette dans les sources de textes et constituer matériellement un corpus. Il reste à traiter la question de la représentativité. La collecte doit rester raisonnée.\n\nUn corpus se construit. D'abord en fonction d'un objectif de recherche? Cherche-t-on à décrire, à comparer, à explique ?\n\nEnsuite en fonction d'une perspective d'écoute. par exemple prendre le corpus de ceux qui produisent de la publicité, ou le corpus de ce à quoi les consommateurs sont exposés ?\n\n#### Production et réception\n\nUnités de production et de réception, Un texte est produit et puis, peut-être, lu. Analyser le texte peut se faire dans deux perspectives, celle de la production et celle de la réception. Les corpus doivent être construits en fonction de ce critère.\n\n#### Les conditions de production des documents\n\nExaminer la question de l'engagement dans ce cadre est essentiel, certains acteurs sur un sujet donné sont amenés à produire plus que les autres, et participent donc de surcroît à une sur représentation statistique. La question du biais de sélection\n\nPrenons le cas des sites d'avis de consommateurs.\n\nla question des textes absents\n\n## Le corpus comme objet de traitement\n\nSur le plan pratique nos discussions dépendent largement des modalités opérationnelles que les langages de traitement de données nous proposent.\n\nDans l'univers r le package `tm` est fondateur, mais d'autres solutions sont offertes. On signalera d'abord `stringr` qui fait partie de la suite `tidyverse`.\n\nParmi elles on fait le choix des méthode de la suite `Quanteda`.\n\n### Un exemple\n\nIl s'agit du corpus \"TrumpArchive\".\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- read_csv(\"data/TrumpTwitterArchive01-08-2021.csv\")%>%\n  select(id, text, favorites, retweets, date)\nhead(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 5\n       id text                            favorites retweets date               \n    <dbl> <chr>                               <dbl>    <dbl> <dttm>             \n1 9.85e16 Republicans and Democrats have…        49      255 2011-08-02 18:07:48\n2 1.23e18 I was thrilled to be back in t…     73748    17404 2020-03-03 01:34:50\n3 1.22e18 RT @CBS_Herridge: READ: Letter…         0     7396 2020-01-17 03:22:47\n4 1.30e18 The Unsolicited Mail In Ballot…     80527    23502 2020-09-12 20:10:58\n5 1.22e18 RT @MZHemingway: Very friendly…         0     9081 2020-01-17 13:13:59\n6 1.22e18 RT @WhiteHouse: President @rea…         0    25048 2020-01-17 00:11:56\n```\n\n\n:::\n:::\n\n\n\n\n\n\nC'est le champs texte qui définit notre corpus, les autres variables / colonnes du tableau représentent les méta données.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncorp <- corpus(df$text, docvars = df)\nsummary(corp[1:5,])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nCorpus consisting of 5 documents, showing 5 documents:\n\n  Text Types Tokens Sentences           id\n text1    10     10         1 9.845497e+16\n text2    42     50         3 1.234653e+18\n text3    23     24         1 1.218011e+18\n text4    49     61         3 1.304875e+18\n text5    25     25         2 1.218160e+18\n                                                                                                                                                                                                                                                                                               text\n                                                                                                                                                                                                                                 Republicans and Democrats have both created our economic problems.\n            I was thrilled to be back in the Great city of Charlotte, North Carolina with thousands of hardworking American Patriots who love our Country, cherish our values, respect our laws, and always put AMERICA FIRST! Thank you for a wonderful evening!! #KAG2020 https://t.co/dNJZfRsl9y\n                                                                                                                                                       RT @CBS_Herridge: READ: Letter to surveillance court obtained by CBS News questions where there will be further disciplinary action and cho…\n The Unsolicited Mail In Ballot Scam is a major threat to our Democracy, &amp; the Democrats know it. Almost all recent elections using this system, even though much smaller &amp;  with far fewer Ballots to count, have ended up being a disaster. Large numbers of missing Ballots &amp; Fraud!\n                                                                                                                                                       RT @MZHemingway: Very friendly telling of events here about Comey's apparent leaking to compliant media. If you read those articles and tho…\n favorites retweets                date\n        49      255 2011-08-02 18:07:48\n     73748    17404 2020-03-03 01:34:50\n         0     7396 2020-01-17 03:22:47\n     80527    23502 2020-09-12 20:10:58\n         0     9081 2020-01-17 13:13:59\n```\n\n\n:::\n:::\n\n\n\n\n\n\nUne fois le corpus constitué , on peut en sélectionner des sous-ensemble. Dans l'exemple suivant on isole les tweets qui ont été retwittés plus de 20 000 fois.\n\nIl va être temps de jouer avec les données !\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# on peut choisir un sous-corpus \ncorp_recent <- corpus_subset(corp, retweets >20000)\nndoc(corp_recent)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 7277\n```\n\n\n:::\n\n```{.r .cell-code}\nhead(corp_recent, 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nCorpus consisting of 10 documents and 5 docvars.\ntext4 :\n\"The Unsolicited Mail In Ballot Scam is a major threat to our...\"\n\ntext6 :\n\"RT @WhiteHouse: President @realDonaldTrump announced histori...\"\n\ntext7 :\n\"Getting a little exercise this morning! https://t.co/fyAAcbh...\"\n\ntext9 :\n\"https://t.co/VlEu8yyovv\"\n\ntext11 :\n\"https://t.co/TQCQiDrVOB\"\n\ntext16 :\n\"As per your request, Joe... https://t.co/78mzcfLEsF https://...\"\n\n[ reached max_ndoc ... 4 more documents ]\n```\n\n\n:::\n:::\n\n\n\n\n\n\n## Conclusion\n\nTechniquement c'est aussi simple que cela. D'un point de vue méthodologique la question de la constitution d'un corpus reste complexe, elle demande de l'intelligence dans l'exploitation des sources, une maîtrise technique des interfaces (les APIs).\n\nDans le chapitre suivant, nous explorons des aspects plus techniques : comment saisir la forme matérielles des documents, comment interroger les bases de données, et exploiter des Apis.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}